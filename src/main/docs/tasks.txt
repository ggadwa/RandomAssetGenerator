

- concrete next, bigger expansion joints, stains aren't showing up



- work on the animation joint stuff, just with indentity etc joints

rendering:
- rethink this part of fragment shader, maybe get more expressive textures
    lightCol*=bump;
    lightCol=clamp(lightCol,0.2,1.0); // maybe at end after all calculations or not at all

        // finally create the pixel

    pixel.rgb=(tex.rgb*lightCol);
    pixel.rgb+=(min(metallic,1.0)*lightCol); // maybe clamp at end, or no clamp?
    if (hasEmissive) pixel.rgb+=(texture(emissiveTex,fragUV.xy).rgb*emissiveFactor);
    pixel.a=tex.a;



animations:
- need to redo all the skin/joint/weight/jointmatrix stuff
- eventually needs to be exported

for (n=0;n!==this.core.MAX_SKELETON_JOINT;n++) {
            name='jointMatrix['+n+']';
            this.jointMatrixUniformArray.push(gl.getUniformLocation(this.program,name));
        }

uniform highp mat4 jointMatrix[64];

    highp vec4 pos;
    highp mat3 normalMatrix;

    if (!noSkin) {
        highp mat4 skinMatrix=(vertexWeight.x*jointMatrix[int(vertexJoint.x)])+(vertexWeight.y*jointMatrix[int(vertexJoint.y)])+(vertexWeight.z*jointMatrix[int(vertexJoint.z)])+(vertexWeight.w*jointMatrix[int(vertexJoint.w)]);
        pos=viewMatrix*modelMatrix*skinMatrix*vec4(vertexPosition,1.0);
        normalMatrix=transpose(inverse(mat3(viewMatrix)*mat3(modelMatrix)*mat3(skinMatrix)));
    }
    else {
        pos=viewMatrix*modelMatrix*noSkinAttachedNodeMatrix*vec4(vertexPosition,1.0);
        normalMatrix=transpose(inverse(mat3(viewMatrix)*mat3(modelMatrix)*mat3(noSkinAttachedNodeMatrix)));
    }




map
 - thread bitmap creation
 - going up ramps is sometimes broken
 - open ceiling
 - windows
 - skybox has bad uv (lines)
 - put back in decorations

bitmaps
 - redo all bitmaps for textureSize for any numbers
 - gravel (like dirt)
 - more distinct control panels pieces (keyboard)
 - computer access panels have handles?

model
 - anything with bars (like table, etc) can switch between simple cylinder + cube
 - add: chair, bed, couch, dresser, storage tank, pc (can put on desk), bookcase (books?), electrical box
 - some models need to have flags for "on wall" or "on desk, table, etc"
 - robot model needs to be chunkier
 - skeletons can build two heads
 - faces by meshes
 - animations
 - need meshscale for each end of limb
 - limb wrapping: don't do radius changes linearly, do it by sin
 - vertex snaps for humanoid, etc (find and implement: scene.snapVertexes)
 - finish junction
 - finish pipes
 - table: bars on legs
 - lab tube: extra pipes, maybe base, maybe control unit
 - humanoid / etc - more items (spikes, etc.)

all
 - need to export tangents

sound
 - random silences in monster?

- try jpackage
c:/Java/jdk-17.0.2/bin/jpackage --name RandomAssetGenerator --input c:\Code\RandomAssetGenerator\target --main-jar RandomAssetGenerator-1.0.jar --main-class com.klinksoftware.rag.RandomAssetGenerator --win-dir-chooser --type EXE